<!-- Current error:
results is not iterable 
results returns null when debugging.-->
<%- include ('../partials/header') -%>

<div class="container-fluid">
  <form action="outcomes" method="POST">
  <h2><%= subtitle %></h2>
  <hr class="my-4">
  <div class = "row bg-secondary text-light p-2">
  <div class = "col-lg-2"><a href="<%= base_url %>create" class="btn btn-success" role="button">Create New</a></div>
  <div class = "col-lg-4"><select class="form-control" name = "prog_ID">
    <option value="<%= resultsDD.current_progID %>"><%= resultsDD.current_progName %></option>
    <% for (var elem of resultsDD) {%>
    <option value="<%= elem.prog_ID %>"><%= elem.prog_name %></option>
    <% } %>
  </select>
  </div>
  <button class="btn btn-primary" role="button">Filter</button>
  </div>

  <div>
  <hr class="my-1">
  <div class="row py-2 btn-light">
    <div class="col"><strong>Name</strong></div>
    <div class="col"><strong>Study Program ID</strong></div>
    <div class="col"><strong>Description</strong></div>
    <!-- <div class="col"><strong>Department ID</strong></div> -->
    <div class="col"><strong>Date Created</strong></div>
    <div class="col"></div>
  </div>
  <hr class="my-1">
  <% for (var elem of results) {%>
    <div class="row">
      <div class="col"><%= outc_name %></div>
      <div class="col"><%= prog_ID %></div>
      <div class="col"><%= outc_description %></div>
      <!-- <div class="col">1</div> -->
      <div class="col"><%= date_created %></div>
      <div class="col dropdown">
        <button class="btn inter-green inter-green-btn dropdown-toggle" type="button" data-toggle="dropdown">
          Actions
        </button>
        <div class="dropdown-menu">
          <a href="/outcomes/<%= outc_ID %>/edit" type="button" class="dropdown-item">Edit</a>
          <a href="/outcomes/<%= outc_ID %>/delete" type="button" class="dropdown-item">Delete</a>
        </div>
      </div>
    </div>
  <% } %>
</div>

<%- include ('../partials/footer') -%>
